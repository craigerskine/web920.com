{%- set pagetitle -%}
{%- if title %}{{ title +' # '+ site.meta.title }}{% else %}{{ site.meta.title or site.meta.title }}{% endif -%}
{%- endset -%}

<!doctype html>
<html lang="en" class="bg-transparent antialiased">

  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>{{ pagetitle }}</title>
    <meta name="description" content="{{ site.meta.description }}" />
    <meta name="author" content="{{ site.meta.author }} - {{ site.meta.author_url }}" />
    <meta name="generator" content="{{ eleventy.generator }}" />
    <link href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;200;300;400;500;600;700;800&display=swap" rel="stylesheet" />

    <meta property="og:title" content="{{ pagetitle }}" />
    <meta property="og:description" content="{{ site.meta.description }}" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ page.url | url }}" />
    <meta property="og:image" content="{{ '/' | url }}_assets/img/og.png" />

    <script>
      // color mode init
      if (localStorage.getItem('color-mode') === 'dark' || (window.matchMedia('(prefers-color-scheme: dark)').matches && !localStorage.getItem('color-mode'))) {
        document.documentElement.classList.add('dark');
      }
    </script>
  </head>

  <body class="bg-gray-50 text-gray-700 font-mono !block" style="display: none;">
    <div id="app" class="min-h-screen flex-(& col)">
      <header class="w-full flex-none">
        <button class="color-mode text-[24px] flex items-center fixed top-2 right-2 motion-safe:(transition) hover:(text-brand-500)" aria-label="Toggle color mode">
          <span class="block dark:(hidden)"><iconify-icon icon="mdi:brightness-5" inline="false" class="iconify"></iconify-icon> <span class="sr-only">Switch to dark mode</span></span>
          <span class="hidden dark:(block)"><iconify-icon icon="mdi:brightness-4" inline="false" class="iconify"></iconify-icon> <span class="sr-only">Switch to light mode</span></span>
        </button>
      </header>
      <main class="w-full flex-(& col 1)"> 
        <div class="w-2/5 text-black flex items-center fixed right-10 inset-y-0 opacity-25 dark:(text-gray-300)" aria-hidden="true">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 828 1021" role="img" class="fill-current">
            <linearGradient id="fade-tb" gradientTransform="rotate(90)">
              <stop offset="0" stop-color="currentColor" />
              <stop offset="1" stop-color="currentColor" stop-opacity="0" />
            </linearGradient>
            <path opacity=".3" d="m440.9 195.3c0 28.9-17 42.5-38 30.4s-38-45.4-38-74.3 17-42.5 38-30.4 38 45.4 38 74.3z" />
            <g fill="url(#fade-tb)">
              <g opacity=".3">
                <path d="m533.3 358.2 270.7 156.3.1 141.1-246.8-142.5-23.9 7.8z" />
                <path d="m299.8 158.9-270.7004-156.2.1 141.1 246.8004 142.4 23.9 35.4z" />
              </g>
              <g opacity=".2">
                <path d="m387.6 559.3c-123.6-474.6-21.9-514.9 16.5-531.1 38.4 60.6 140 218.2 16.3 550z" />
                <path d="m263.8 309.5-161.7-93.3v84.2l161.7 93.3z" />
                <path d="m744 373.1-161.7-93.3v84.2l161.7 93.4z" />
              </g>
              <g opacity=".15">
                <path d="m424 532c-123.6-474.5-22-514.9 16.5-531.100006 38.4 60.600006 140 218.200006 16.3 550.000006z" />
                <path d="m420.4 578.2c123.7-331.8 22.1-489.4-16.3-550v540.6z" />
                <path d="m433.4 685.6c-8.7-14.2-12.9-32.2-16.6-48-4.3-18.2-7.9-33.7-16.9-37.6-10.3-4.5-14.9 6.9-21.4 22.7-3.8 9.3-8.3 20.3-14.9 30.4-7.1-7.5-14.6-13.7-22.5-18.2-33.1-19.1-60.7-2.6-67.2 36.8-4.5-3.4-9-6.5-13.6-9.2-53.1-30.6-96.1 4.1-96.1 77.7 0 73.5 43 157.9 96 188.5 51.5 29.7 93.6-2.2 96-71.3 9.7 18 22.6 33.1 36.9 41.3 3.7 2.1 7.3 3.7 10.7 4.7 20.6 45.3 51.3 84.3 85.6 104.1 62 35.8 112.3-4.6 112.4-90.2 0-85.6-50.3-184.1-112.3-219.9-20.5-11.8-39.6-15.4-56.1-11.8z" />
              </g>
            </g>
            <g class="text-rose-500" >
              <path d="m340 338.8c-22.1 21.2-41.9 60.8-27 122.7 13.4-1.1 32.4-2.6 49.6-4.2-9.8-44-17.2-83.3-22.6-118.5z" />
              <path d="m.200195 57.7v-38.3l102.199805 59v38.3z" />
              <path d="m244.8 174.4c0 11.6 6.9 25 15.4 29.9s15.4-.6 15.4-12.2-6.9-25-15.4-29.9c-8.5-4.8-15.4.6-15.4 12.2z" />
              <path d="m135 263.3c0 6.9-4.1 10.2-9.2 7.3s-9.2-10.9-9.2-17.9c0-6.9 4.1-10.2 9.2-7.3 5 3 9.2 11 9.2 17.9z" />
            </g>
            <g class="text-emerald-500">
              <path d="m444.8 504.6c17.2 21.5 36.3 45.1 49.7 61.6 14.9-44.8-5-107.4-27.2-154.2-5.3 29.1-12.7 59.9-22.5 92.6z" />
              <path d="m725.3 539.3v-38.3l102.2 59v38.3z" />
              <path d="m588.3 437.2c0 11.6-6.9 17.1-15.4 12.2s-15.4-18.3-15.4-29.9 6.9-17.1 15.4-12.2c8.6 4.9 15.4 18.3 15.4 29.9z" />
              <path d="m615.2 327c0 6.9-4.1 10.2-9.2 7.3s-9.2-10.9-9.2-17.9c0-6.9 4.1-10.2 9.2-7.3 5.1 3 9.2 11 9.2 17.9z" />
            </g>
            <g opacity=".15">
              <path d="m602.9 432.7 59.3 34.2v12.4l-59.3-34.2z" />
              <path d="m603 457.5 107 61.8v12.4l-107-61.8z" />
              <path d="m603 482.3 138.5 80v12.4l-138.5-80z" />
              <path d="m230.2 153.1-59.3-34.2v12.4l59.3 34.2z" />
              <path d="m230.2 177.9-114.3-66v12.4l114.3 66z" />
              <path d="m230.2 202.7-138.4998-80v12.4l138.4998 80z" />
              <path d="m143.5 260.3 55.4 32v10.1l-55.4-32z" />
              <path d="m143.5 280.6 103.6 59.8v10.2l-103.6-59.8z" />
              <path d="m623.7 324 55.4 32v10.1l-55.4-32z" />
              <path d="m623.8 344.3 103.6 59.8v10.2l-103.6-59.8z" />
            </g>
          </svg>
        </div>
        <section class="m-auto p-2 w-full max-w-md space-y-10 relative">
          <fieldset class="flex gap-2">
            <button type="button" :class="['py-3 px-6 bg-rose-500 rounded', {'ring ring-rose-900/80': brand === 'rose' }]" @click.prevent="brand = 'rose'"><span class="sr-only">Change color to rose</span></button>
            <button type="button" :class="['py-3 px-6 bg-emerald-500 rounded', {'ring ring-emerald-900/80': brand === 'emerald' }]" @click.prevent="brand = 'emerald'"><span class="sr-only">Change color to emerald</span></button>
          </fieldset>
          <h1 class="mx-auto text-(4xl slate-300) leading-none tracking-tight font-semibold select-none md:(text-8xl leading-none tracking-tighter)" @click="logo = !logo">
            <span class="mx-auto flex items-end" v-show="!logo">
              <span class="text-slate-700 font-black">web</span>
              <small class="">(<span :class="'text-'+ brand +'-500 font-black'">920</span>)</small>
            </span>
            <span class="mx-auto flex items-end" v-show="logo">
              <span>#</span>
              <span class="ml-1 text-slate-700 font-black md:(ml-2 -mr-2)">web</span>
              <span class="-mx-1">.</span>
              <small :class="'text-'+ brand +'-500 font-black md:(-ml-2)'">920</small>
            </span>
          </h1>
          <small class="text-base tracking-normal font-normal not-italic block">coming soon...</small>
        </section>
      </main>
      <footer class="w-full flex-none"></footer>
    </div>
    <script type="module">
      // icons
      import 'https://esm.run/iconify-icon';

      // vue
      import { createApp } from 'https://esm.run/vue@3/dist/vue.esm-browser.js';
      const app = createApp({
        data() {
          return {
            logo: true,
            brand: 'rose',
          }
        }
      })
      app.mount('#app');

      // color mode
      const toggleColorMode = function() {
        // light
        if (document.documentElement.classList.contains('dark')) {
          document.documentElement.classList.remove('dark');
          localStorage.setItem('color-mode', 'light')
          return;
        }
        // dark
        document.documentElement.classList.add('dark');
        localStorage.setItem('color-mode', 'dark');
      };
      document.querySelectorAll('.color-mode').forEach(btn => {
        btn.addEventListener('click', toggleColorMode);
      });

      // twind
      import { install, injectGlobal, autoDarkColor } from 'https://esm.run/@twind/core';
      import presetAutoprefix from 'https://esm.run/@twind/preset-autoprefix';
      import presetTailwind from 'https://esm.run/@twind/preset-tailwind';
      install({
        presets: [presetAutoprefix(), presetTailwind()],
        darkMode: 'class',
        darkColor: autoDarkColor,
        hash: false,
        theme: {
          extend: {
            colors: ({ theme }) => ({
              brand: theme('colors.indigo'),
            }),
            fontFamily: ({ theme }) => ({
              mono: 'JetBrains Mono,'+ theme('fontFamily.mono'),
            }),
          },
        },
        rules: [
        ],
      });
      injectGlobal`
        @layer base {
        }
      `
    </script>
  </body>

</html>